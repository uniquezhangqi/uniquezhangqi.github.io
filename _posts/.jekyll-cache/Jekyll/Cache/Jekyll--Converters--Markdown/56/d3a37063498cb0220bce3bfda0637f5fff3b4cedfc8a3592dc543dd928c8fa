I"µ˜<blockquote>
  <p>æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº<a href="http://uniquezhangqi.top">My Blog</a>,ä½œè€…<a href="http://uniquezhangqi.top/about/">@å¼ ç¦(Ian)</a>,è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥ã€‚<br /></p>
</blockquote>

<h2 id="java---quartz-å®šæ—¶ä»»åŠ¡">Java - Quartz å®šæ—¶ä»»åŠ¡</h2>
<blockquote>
  <p><a href="http://www.quartz-scheduler.org">Quartz</a>æ˜¯ä¸€ä¸ªå®Œå…¨ç”±Javaç¼–å†™çš„å¼€æºä½œä¸šè°ƒåº¦æ¡†æ¶ï¼Œä¸ºåœ¨Javaåº”ç”¨ç¨‹åºä¸­è¿›è¡Œä½œä¸šè°ƒåº¦æä¾›äº†ç®€å•å´å¼ºå¤§çš„æœºåˆ¶ã€‚Quartzå…è®¸å¼€å‘äººå‘˜æ ¹æ®æ—¶é—´é—´éš”æ¥è°ƒåº¦ä½œä¸šã€‚<br />
å®˜ç½‘ï¼š<a href="http://www.quartz-scheduler.org">http://www.quartz-scheduler.org</a><br /></p>
</blockquote>

<h3 id="åŸºç¡€æ¦‚å¿µ">åŸºç¡€æ¦‚å¿µ</h3>

<h4 id="job">Job</h4>
<ul>
  <li>å…·ä½“éœ€è¦å¤„ç†çš„ä¸šåŠ¡é€»è¾‘ã€‚</li>
  <li>è¡¨ç¤ºä¸€ä¸ªå·¥ä½œï¼Œè¦æ‰§è¡Œçš„å…·ä½“å†…å®¹ã€‚æ­¤æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ã€‚è¦åˆ›å»ºä¸€ä¸ªä»»åŠ¡ï¼Œå¿…é¡»å¾—å®ç°è¿™ä¸ªæ¥å£ã€‚è¯¥æ¥å£åªæœ‰ä¸€ä¸ªexecuteæ–¹æ³•ï¼Œä»»åŠ¡æ¯æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œè¿™ä¸ªexecuteæ–¹æ³•çš„é€»è¾‘ï¼Œç±»ä¼¼TimerTaskçš„runæ–¹æ³•ï¼Œåœ¨é‡Œé¢ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestJob</span> <span class="kd">implements</span> <span class="nc">Job</span> <span class="o">{</span>
      <span class="cm">/**æŠŠè¦æ‰§è¡Œçš„æ“ä½œï¼Œå†™åœ¨executeæ–¹æ³•ä¸­  */</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">JobExecutionContext</span> <span class="n">jobExecutionContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">JobExecutionException</span> <span class="o">{</span>
          <span class="nc">SimpleDateFormat</span> <span class="n">sdf</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd hh:mm:ss"</span><span class="o">);</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"I can do something..."</span><span class="o">);</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sdf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">()));</span>
      <span class="o">}</span>
  <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ç”Ÿå‘½å‘¨æœŸï¼šåœ¨æ¯æ¬¡è°ƒåº¦å™¨æ‰§è¡Œjobæ—¶ï¼Œå®ƒåœ¨è°ƒç”¨executeæ–¹æ³•å‰ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„jobå®ä¾‹ï¼Œå½“è°ƒç”¨å®Œæˆä¹‹åï¼Œå…³è”çš„jobå¯¹è±¡å®ä¾‹ä¼šè¢«é‡Šæ”¾ï¼Œé‡Šæ”¾çš„å®ä¾‹ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚</li>
  <li>JobBuilderï¼šå¯å‘ä»»åŠ¡ä¼ é€’æ•°æ®,é€šå¸¸æƒ…å†µä¸‹,æˆ‘ä»¬ä½¿ç”¨å®ƒå°±å¯å‘ä»»åŠ¡ç±»å‘é€æ•°æ®äº†ï¼Œå¦‚æœ‰ç‰¹åˆ«å¤æ‚çš„ä¼ é€’å‚æ•°,å®ƒæä¾›äº†ä¸€ä¸ªä¼ é€’é€’:JobDataMapå¯¹è±¡çš„æ–¹æ³•</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span>  <span class="nc">JobBuilder</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="nc">TestJob</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">withIdentity</span><span class="o">(</span><span class="s">"testJob"</span><span class="o">,</span><span class="s">"group1"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<h4 id="jobdetail">JobDetail</h4>
<ul>
  <li>è¯¦ç»†çš„ä»»åŠ¡æè¿°ï¼ŒåŒ…æ‹¬åç§°ï¼Œå…³è”çš„<code class="language-plaintext highlighter-rouge">Job</code>ï¼Œ<code class="language-plaintext highlighter-rouge">Job</code>è¿è¡Œæ—¶æ‰€éœ€è¦çš„å‚æ•°ç­‰ã€‚<br /></li>
  <li>ç”¨æ¥ä¿å­˜æˆ‘ä»¬ä»»åŠ¡çš„è¯¦ç»†ä¿¡æ¯ã€‚ä¸€ä¸ªJobDetailå¯ä»¥æœ‰å¤šä¸ªTriggerï¼Œä½†æ˜¯ä¸€ä¸ªTriggeråªèƒ½å¯¹åº”ä¸€ä¸ªJobDetailã€‚ä¸‹é¢æ˜¯JobDetailçš„ä¸€äº›å¸¸ç”¨çš„å±æ€§å’Œå«ä¹‰ï¼š
<img src="https://ws3.sinaimg.cn/large/006tNc79gy1fpdyweyl0mj30iq05p74a.jpg" alt="" /></li>
</ul>

<h4 id="trigger">Trigger</h4>

<p>ä»»åŠ¡è°ƒåº¦å™¨ï¼Œæè¿°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ<code class="language-plaintext highlighter-rouge">Job</code>ï¼Œå¤šä¹…æ‰§è¡Œä¸€æ¬¡ã€‚</p>

<ul>
  <li>SimpleTrigger è®¾ç½®é‡å¤æ¬¡æ•°ï¼Œé‡å¤æ‰§è¡Œé—´éš”æ—¶é•¿</li>
  <li>CronTrigger å¯ä»¥é…ç½®æ›´å¤æ‚çš„è§¦å‘æ—¶åˆ»è¡¨ï¼ŒåŸºäºæ—¥å†çš„ä½œä¸šè§¦å‘å™¨ï¼Œè€Œä¸åƒSimpleTriggeré‚£æ ·ç²¾ç¡®æŒ‡å®šé—´éš”æ—¶é—´ï¼Œæ¯”SimpleTriggeræ›´åŠ å¸¸ç”¨ã€‚
    <ul>
      <li>Cronè¡¨è¾¾å¼ï¼šç”¨äºé…ç½®CronTriggerå®ä¾‹ï¼Œæ˜¯ç”±7ä¸ªè¡¨è¾¾å¼ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæè¿°äº†æ—¶é—´è¡¨çš„è¯¦ç»†ä¿¡æ¯ã€‚
        <ul>
          <li>æ ¼å¼ä¸ºï¼š[ç§’][åˆ†][æ—¶][æ—¥][æœˆ][å‘¨][å¹´]</li>
          <li>Cronè¡¨è¾¾å¼å°æŠ€å·§ï¼š<br />
  ã€€ã€€1. â€˜Lâ€™å’Œâ€˜Wâ€™å¯ä»¥ä¸€èµ·ç»„åˆä½¿ç”¨<br />
  ã€€ã€€2. å‘¨å­—æ®µè‹±æ–‡å­—æ¯ä¸åŒºåˆ†å¤§å°å†™å³MOMä¸momç›¸åŒ<br />
  ã€€ã€€3. åˆ©ç”¨å·¥å…·ï¼Œåœ¨çº¿ç”Ÿæˆcronè¡¨è¾¾å¼ï¼š<a href="http://cron.qqe2.com/">http://cron.qqe2.com/</a><br /></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="scheduler">Scheduler</h4>
<p>ã€€ã€€è°ƒåº¦å®¹å™¨ï¼Œ<code class="language-plaintext highlighter-rouge">Job</code>ä¸<code class="language-plaintext highlighter-rouge">Trigger</code>éƒ½éœ€è¦åœ¨å®¹å™¨ä¸­æ³¨å†Œï¼Œè¢«å®¹å™¨ç»Ÿä¸€ç®¡ç†ã€‚<br />
ã€€ã€€ä»£è¡¨ä¸€ä¸ªQuartzçš„ç‹¬ç«‹è¿è¡Œå®¹å™¨ï¼ŒTriggerå’ŒJobDetailå¯ä»¥æ³¨å†Œåˆ°Schedulerä¸­ï¼Œä¸¤è€…åœ¨Schedulerä¸­æ‹¥æœ‰å„è‡ªçš„ç»„åŠåç§°ï¼Œç»„åŠåç§°æ˜¯ScheduleræŸ¥æ‰¾å®šä½å®¹å™¨ä¸­æŸä¸€å¯¹è±¡çš„ä¾æ®ï¼ŒTriggerçš„ç»„åŠåç§°å¿…é¡»å”¯ä¸€ï¼ŒJobDetailçš„ç»„å’Œåç§°ä¹Ÿå¿…é¡»å”¯ä¸€ï¼ˆä½†å¯ä»¥å’ŒTriggerçš„ç»„å’Œåç§°ç›¸åŒï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸åŒç±»å‹çš„ï¼‰ã€‚Schedulerå®šä¹‰äº†å¤šä¸ªæ¥å£æ–¹æ³•ï¼Œå…è®¸å¤–éƒ¨é€šè¿‡ç»„åŠåç§°è®¿é—®å’Œæ§åˆ¶å®¹å™¨ä¸­Triggerå’ŒJobDetailã€‚<br />
ã€€ã€€Schedulerå¯ä»¥å°†Triggerç»‘å®šåˆ°æŸä¸€JobDetailä¸­ï¼Œè¿™æ ·å½“Triggerè§¦å‘æ—¶ï¼Œå¯¹åº”çš„Jobå°±è¢«æ‰§è¡Œã€‚ä¸€ä¸ªJobå¯ä»¥å¯¹åº”å¤šä¸ªTriggerï¼Œä½†ä¸€ä¸ªTriggeråªèƒ½å¯¹åº”ä¸€ä¸ªJobã€‚<br />
ã€€ã€€å¯ä»¥é€šè¿‡SchedulerFactoryåˆ›å»ºä¸€ä¸ªSchedulerå®ä¾‹ã€‚Scheduleræ‹¥æœ‰ä¸€ä¸ªSchedulerContextï¼Œå®ƒç±»ä¼¼äºServletContextï¼Œä¿å­˜ç€Schedulerä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ŒJobå’ŒTriggeréƒ½å¯ä»¥è®¿é—®SchedulerContextå†…çš„ä¿¡æ¯ã€‚SchedulerContextå†…éƒ¨é€šè¿‡ä¸€ä¸ªMapï¼Œä»¥é”®å€¼å¯¹çš„æ–¹å¼ç»´æŠ¤è¿™äº›ä¸Šä¸‹æ–‡æ•°æ®ï¼ŒSchedulerContextä¸ºä¿å­˜å’Œè·å–æ•°æ®æä¾›äº†å¤šä¸ªput()å’ŒgetXxx()çš„æ–¹æ³•ã€‚å¯ä»¥é€šè¿‡Scheduler# getContext()è·å–å¯¹åº”çš„SchedulerContextå®ä¾‹ï¼›</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SchedulerFactory</span> <span class="n">schedulerfactory</span><span class="o">=</span><span class="k">new</span> <span class="nc">StdSchedulerFactory</span><span class="o">();</span>
    <span class="nc">Scheduler</span> <span class="n">scheduler</span> <span class="o">=</span> <span class="n">schedulerfactory</span><span class="o">.</span><span class="na">getScheduler</span><span class="o">();</span>

    <span class="nc">DirectSchedulerFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="nc">DirectSchedulerFactory</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="nc">Scheduler</span> <span class="n">scheduler</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="na">getScheduler</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SchedulerException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></div></div>

<p>SchedulerFactory:</p>

<ul>
  <li>ä½¿ç”¨ä¸€ç»„å‚æ•°ï¼ˆjava.util.Propertiesï¼‰æ¥åˆ›å»ºå’Œå‡ºä¹¦å•ŠQuartzè°ƒåº¦å™¨</li>
  <li>é…ç½®å‚æ•°ä¸€èˆ¬å­˜å‚¨åœ¨quartz.propertiesä¸­</li>
  <li>è°ƒç”¨getScheduleræ–¹æ³•å°±èƒ½åˆ›å»ºå’Œåˆå§‹åŒ–è°ƒåº¦å™¨</li>
</ul>

<h3 id="cronè¡¨è¾¾å¼">Cronè¡¨è¾¾å¼</h3>

<h4 id="èŒƒå¼">èŒƒå¼</h4>

<table>
  <thead>
    <tr>
      <th>è¡¨è¾¾å¼</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>*/5 * * * * ?</td>
      <td>æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 */1 * * * ?</td>
      <td>æ¯éš”1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 23 * * ?</td>
      <td>æ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 23 ? * *</td>
      <td>æ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 23 * * ? *</td>
      <td>æ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 23 * * ? 2016</td>
      <td>2016å¹´æ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 1 * * ?</td>
      <td>æ¯å¤©1ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 1 1 * ?</td>
      <td>æ¯æœˆ1å·1ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 * 14 * * ?</td>
      <td>æ¯å¤©14:00ç‚¹åˆ°14:59æœŸé—´ï¼Œæ¯éš”1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0-5 14 * * ?</td>
      <td>æ¯å¤©14:00ç‚¹åˆ°14:05æœŸé—´ï¼Œæ¯éš”1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 23 L * ?</td>
      <td>æ¯æœˆæœ€åä¸€å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 1 ? * L</td>
      <td>æ¯å‘¨æ˜ŸæœŸå…­1ç‚¹æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 26,29,33 * * * ?</td>
      <td>åœ¨26åˆ†ã€29åˆ†ã€33åˆ†æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 0,13,18,21 * * ?</td>
      <td>æ¯å¤©çš„0ç‚¹ã€13ç‚¹ã€18ç‚¹ã€21ç‚¹éƒ½æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>0 0 0 ? * 6#3</td>
      <td>æ¯æœˆç¬¬3ä¸ªæ˜ŸæœŸå…­</td>
    </tr>
  </tbody>
</table>

<h4 id="è¡¨è¾¾å¼">è¡¨è¾¾å¼</h4>

<table>
  <thead>
    <tr>
      <th>å­—æ®µ</th>
      <th>å¯é€‰å€¼</th>
      <th>ç‰¹æ®Šå­—ç¬¦</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ç§’</td>
      <td>0 - 59</td>
      <td>, - * /</td>
    </tr>
    <tr>
      <td>åˆ†</td>
      <td>0 - 59</td>
      <td>, - * /</td>
    </tr>
    <tr>
      <td>æ—¶</td>
      <td>0 - 23</td>
      <td>, - * /</td>
    </tr>
    <tr>
      <td>æ—¥</td>
      <td>1 - 31</td>
      <td>, - * / ? L W</td>
    </tr>
    <tr>
      <td>æœˆ</td>
      <td>1 - 12</td>
      <td>, - * /</td>
    </tr>
    <tr>
      <td>å‘¨</td>
      <td>1ï¼ˆSunï¼‰ - 7ï¼ˆSatï¼‰</td>
      <td>, - * / ? L #</td>
    </tr>
    <tr>
      <td>å¹´ï¼ˆå¯é€‰ï¼‰</td>
      <td>1970 - 2099</td>
      <td>, - * /</td>
    </tr>
  </tbody>
</table>

<h4 id="ç‰¹æ®Šå­—ç¬¦">ç‰¹æ®Šå­—ç¬¦</h4>

<table>
  <thead>
    <tr>
      <th>å­—ç¬¦</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>,</td>
      <td>æŒ‡å®šå¤šä¸ªæ•°å€¼</td>
    </tr>
    <tr>
      <td>-</td>
      <td>æŒ‡å®šä¸€ä¸ªèŒƒå›´</td>
    </tr>
    <tr>
      <td>*</td>
      <td>ä»£è¡¨æ•´ä¸ªæ—¶é—´æ®µ</td>
    </tr>
    <tr>
      <td>/</td>
      <td>å¤šé•¿æ—¶é—´æ‰§è¡Œä¸€æ¬¡</td>
    </tr>
    <tr>
      <td>?</td>
      <td>ä¸ç¡®å®šçš„å€¼</td>
    </tr>
    <tr>
      <td>L</td>
      <td>æ¯æœˆæœ€åä¸€å¤©ï¼ˆæ—¥ï¼‰/æ¯æœˆæœ€åä¸€ä¸ªæ˜ŸæœŸå…­ï¼ˆå‘¨ï¼‰</td>
    </tr>
    <tr>
      <td>W</td>
      <td>æœ€è¿‘çš„å·¥ä½œæ—¥</td>
    </tr>
    <tr>
      <td>#</td>
      <td>æ¯æœˆç¬¬Nä¸ªå·¥ä½œæ—¥</td>
    </tr>
  </tbody>
</table>

<h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3>

<h4 id="quartzmanager">QuartzManager</h4>

<p>QuartzManagerä¸­æˆ‘å°è£…äº†å¾ˆå¤šæ–¹æ³•ï¼ŒåŒ…æ‹¬<code class="language-plaintext highlighter-rouge">Job</code>ï¼Œ<code class="language-plaintext highlighter-rouge">Trigger</code>çš„æ·»åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹ç­‰ï¼Œè¿™é‡Œåªåˆ—ä¸¾äº†å…¶ä¸­ä¸€ä¸ªã€‚</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">QuartzManager</span> <span class="o">{</span>
    <span class="cm">/**
     * æ·»åŠ ä»»åŠ¡
     *
     * @param jobName      ä»»åŠ¡å
     * @param jobGroup     ä»»åŠ¡ç»„
     * @param jobClass     ä»»åŠ¡å®ç°ç±»
     * @param jobData      ä»»åŠ¡æ•°æ®
     * @param triggerName  è§¦å‘å™¨å
     * @param triggerGroup è§¦å‘å™¨ç»„
     * @param triggerCron  è§¦å‘å™¨Cronè¡¨ç¤ºå¼
     * @return
     */</span>
    <span class="kd">public</span> <span class="nc">Boolean</span> <span class="nf">addJob</span><span class="o">(</span><span class="nc">String</span> <span class="n">jobName</span><span class="o">,</span> <span class="nc">String</span> <span class="n">jobGroup</span><span class="o">,</span> <span class="nc">Class</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">Job</span><span class="o">&gt;</span> <span class="n">jobClass</span><span class="o">,</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">jobData</span><span class="o">,</span> 
                            <span class="nc">String</span> <span class="n">triggerName</span><span class="o">,</span> <span class="nc">String</span> <span class="n">triggerGroup</span><span class="o">,</span> <span class="nc">String</span> <span class="n">triggerCron</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// ä»»åŠ¡åï¼Œä»»åŠ¡ç»„ï¼Œä»»åŠ¡æ‰§è¡Œç±»</span>
            <span class="nc">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span> <span class="nc">JobBuilder</span><span class="o">.</span><span class="na">newJob</span><span class="o">(</span><span class="n">jobClass</span><span class="o">).</span><span class="na">withIdentity</span><span class="o">(</span><span class="n">jobName</span><span class="o">,</span> <span class="n">jobGroup</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">jobData</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">jobData</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span>
                <span class="n">jobDetail</span><span class="o">.</span><span class="na">getJobDataMap</span><span class="o">().</span><span class="na">putAll</span><span class="o">(</span><span class="n">jobData</span><span class="o">);</span>

            <span class="c1">// è§¦å‘å™¨</span>
            <span class="nc">TriggerBuilder</span><span class="o">&lt;</span><span class="nc">Trigger</span><span class="o">&gt;</span> <span class="n">triggerBuilder</span> <span class="o">=</span> <span class="nc">TriggerBuilder</span><span class="o">.</span><span class="na">newTrigger</span><span class="o">();</span>
            <span class="c1">// è§¦å‘å™¨å,è§¦å‘å™¨ç»„</span>
            <span class="n">triggerBuilder</span><span class="o">.</span><span class="na">withIdentity</span><span class="o">(</span><span class="n">triggerName</span><span class="o">,</span> <span class="n">triggerGroup</span><span class="o">);</span>
            <span class="c1">// è§¦å‘å™¨æ—¶é—´è®¾å®š</span>
            <span class="n">triggerBuilder</span><span class="o">.</span><span class="na">withSchedule</span><span class="o">(</span><span class="nc">CronScheduleBuilder</span><span class="o">.</span><span class="na">cronSchedule</span><span class="o">(</span><span class="n">triggerCron</span><span class="o">));</span>
            <span class="c1">// åˆ›å»ºTriggerå¯¹è±¡</span>
            <span class="nc">CronTrigger</span> <span class="n">trigger</span> <span class="o">=</span> <span class="o">(</span><span class="nc">CronTrigger</span><span class="o">)</span> <span class="n">triggerBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>

            <span class="c1">// è°ƒåº¦å®¹å™¨è®¾ç½®JobDetailå’ŒTrigger</span>
            <span class="n">scheduler</span><span class="o">.</span><span class="na">scheduleJob</span><span class="o">(</span><span class="n">jobDetail</span><span class="o">,</span> <span class="n">trigger</span><span class="o">);</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SchedulerException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="myjob">MyJob</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyJob</span> <span class="kd">implements</span> <span class="nc">Job</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">DateFormat</span> <span class="n">df</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd HH:mm:ss.SSS"</span><span class="o">);</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">JobExecutionContext</span> <span class="n">jobExecutionContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">JobExecutionException</span> <span class="o">{</span>
        <span class="nc">JobDetail</span> <span class="n">jobDetail</span> <span class="o">=</span> <span class="n">jobExecutionContext</span><span class="o">.</span><span class="na">getJobDetail</span><span class="o">();</span>
        <span class="nc">JobDataMap</span> <span class="n">jobDataMap</span> <span class="o">=</span> <span class="n">jobDetail</span><span class="o">.</span><span class="na">getJobDataMap</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">x</span> <span class="o">=</span> <span class="n">jobDataMap</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"x"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">y</span> <span class="o">=</span> <span class="n">jobDataMap</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"y"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%s x=%s, y=%s"</span><span class="o">,</span> <span class="n">df</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">()),</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="quartztest">QuartzTest</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">QuartzTest</span> <span class="o">{</span>
    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">SchedulerFactory</span> <span class="n">schedulerFactory</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StdSchedulerFactory</span><span class="o">();</span>
        <span class="nc">Scheduler</span> <span class="n">scheduler</span> <span class="o">=</span> <span class="n">schedulerFactory</span><span class="o">.</span><span class="na">getScheduler</span><span class="o">();</span>
        <span class="nc">QuartzManager</span> <span class="n">quartzManager</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">QuartzManager</span><span class="o">(</span><span class="n">scheduler</span><span class="o">);</span>

        <span class="c1">// æ¯1000æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ï¼Œé‡å¤æ‰§è¡Œ3æ¬¡ï¼Œå…±æ‰§è¡Œ4æ¬¡</span>
        <span class="n">quartzManager</span><span class="o">.</span><span class="na">addJob</span><span class="o">(</span><span class="s">"myJob"</span><span class="o">,</span> <span class="s">"test"</span><span class="o">,</span> <span class="nc">MyJob</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">singletonMap</span><span class="o">(</span><span class="s">"x"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">),</span> <span class="mi">1000L</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
        <span class="n">quartzManager</span><span class="o">.</span><span class="na">startScheduler</span><span class="o">();</span>

        <span class="k">while</span> <span class="o">(</span><span class="nc">Thread</span><span class="o">.</span><span class="na">activeCount</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span>
            <span class="nc">Thread</span><span class="o">.</span><span class="na">yield</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ã€€ã€€å…¶å®Quartz JARæ–‡ä»¶çš„org.quartzåŒ…ä¸‹å°±åŒ…å«äº†ä¸€ä¸ªquartz.propertieså±æ€§é…ç½®æ–‡ä»¶å¹¶æä¾›äº†é»˜è®¤è®¾ç½®ã€‚å¦‚æœéœ€è¦è°ƒæ•´é»˜è®¤é…ç½®ï¼Œå¯ä»¥åœ¨ç±»è·¯å¾„ä¸‹å»ºç«‹ä¸€ä¸ªæ–°çš„quartz.propertiesï¼Œå®ƒå°†è‡ªåŠ¨è¢«QuartzåŠ è½½å¹¶è¦†ç›–é»˜è®¤çš„è®¾ç½®ã€‚</p>

<ol>
  <li>
    <p>å…ˆæ¥äº†è§£ä¸€ä¸‹Quartzçš„é»˜è®¤å±æ€§é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤é…ç½®å¦‚ä¸‹ï¼š</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="err">â‘ </span><span class="n">é›†ç¾¤çš„é…ç½®</span><span class="err">ï¼Œ</span><span class="n">è¿™é‡Œä¸ä½¿ç”¨é›†ç¾¤</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">scheduler</span><span class="o">.</span><span class="na">instanceName</span> <span class="o">=</span> <span class="nc">DefaultQuartzScheduler</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">scheduler</span><span class="o">.</span><span class="na">rmi</span><span class="o">.</span><span class="na">export</span> <span class="o">=</span> <span class="kc">false</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">scheduler</span><span class="o">.</span><span class="na">rmi</span><span class="o">.</span><span class="na">proxy</span> <span class="o">=</span> <span class="kc">false</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">scheduler</span><span class="o">.</span><span class="na">wrapJobExecutionInUserTransaction</span> <span class="o">=</span> <span class="kc">false</span>
	
 <span class="err">â‘¡</span><span class="n">é…ç½®è°ƒåº¦å™¨çš„çº¿ç¨‹æ± </span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">threadPool</span><span class="o">.</span><span class="na">class</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">simpl</span><span class="o">.</span><span class="na">SimpleThreadPool</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">threadPool</span><span class="o">.</span><span class="na">threadCount</span> <span class="o">=</span> <span class="mi">10</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">threadPool</span><span class="o">.</span><span class="na">threadPriority</span> <span class="o">=</span> <span class="mi">5</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">threadPool</span><span class="o">.</span><span class="na">threadsInheritContextClassLoaderOfInitializingThread</span> <span class="o">=</span> <span class="kc">true</span>
	
 <span class="err">â‘¢</span><span class="n">é…ç½®ä»»åŠ¡è°ƒåº¦ç°åœºæ•°æ®ä¿å­˜æœºåˆ¶</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">jobStore</span><span class="o">.</span><span class="na">class</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">simpl</span><span class="o">.</span><span class="na">RAMJobStore</span>
	
 <span class="nc">Quartzçš„å±æ€§é…ç½®æ–‡ä»¶ä¸»è¦åŒ…æ‹¬ä¸‰æ–¹é¢çš„ä¿¡æ¯</span><span class="err">ï¼š</span>
	
 <span class="mi">1</span><span class="o">)</span><span class="n">é›†ç¾¤ä¿¡æ¯</span><span class="err">ï¼›</span>
	
 <span class="mi">2</span><span class="o">)</span><span class="n">è°ƒåº¦å™¨çº¿ç¨‹æ± </span><span class="err">ï¼›</span>
	
 <span class="mi">3</span><span class="o">)</span><span class="n">ä»»åŠ¡è°ƒåº¦ç°åœºæ•°æ®çš„ä¿å­˜</span><span class="err">ã€‚</span>
	
    <span class="n">å¦‚æœä»»åŠ¡æ•°ç›®å¾ˆå¤§æ—¶</span><span class="err">ï¼Œ</span><span class="n">å¯ä»¥é€šè¿‡å¢å¤§çº¿ç¨‹æ± çš„å¤§å°å¾—åˆ°æ›´å¥½çš„æ€§èƒ½</span><span class="err">ã€‚</span><span class="n">é»˜è®¤æƒ…å†µä¸‹</span><span class="err">ï¼Œ</span><span class="nc">Quartzé‡‡ç”¨org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">simpl</span><span class="o">.</span><span class="na">RAMJobStoreä¿å­˜ä»»åŠ¡çš„ç°åœºæ•°æ®</span><span class="err">ï¼Œ</span><span class="n">é¡¾åæ€ä¹‰</span><span class="err">ï¼Œ</span><span class="n">ä¿¡æ¯ä¿å­˜åœ¨RAMå†…å­˜ä¸­</span><span class="err">ï¼Œ</span><span class="n">æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è®¾ç½®å°†ä»»åŠ¡è°ƒåº¦ç°åœºæ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¸­</span><span class="err">ã€‚</span>
	     
</code></pre></div>    </div>
  </li>
  <li>
    <p>ä½¿ç”¨æ•°æ®åº“ä¿å­˜ä»»åŠ¡è°ƒåº¦ç°åœºæ•°æ®é…ç½®å¦‚ä¸‹ï¼š</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="err">â€¦</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">jobStore</span><span class="o">.</span><span class="na">class</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">impl</span><span class="o">.</span><span class="na">jdbcjobstore</span><span class="o">.</span><span class="na">JobStoreTX</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">jobStore</span><span class="o">.</span><span class="na">tablePrefix</span> <span class="o">=</span> <span class="no">QRTZ_</span><span class="err">â‘ </span><span class="n">æ•°æ®è¡¨å‰ç¼€</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">jobStore</span><span class="o">.</span><span class="na">dataSource</span> <span class="o">=</span> <span class="n">qzDS</span><span class="err">â‘¡</span><span class="n">æ•°æ®æºåç§°</span>
	
 <span class="err">â‘¢</span><span class="n">å®šä¹‰æ•°æ®æºçš„å…·ä½“å±æ€§</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">dataSource</span><span class="o">.</span><span class="na">qzDS</span><span class="o">.</span><span class="na">driver</span> <span class="o">=</span> <span class="n">oracle</span><span class="o">.</span><span class="na">jdbc</span><span class="o">.</span><span class="na">driver</span><span class="o">.</span><span class="na">OracleDriver</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">dataSource</span><span class="o">.</span><span class="na">qzDS</span><span class="o">.</span><span class="na">URL</span> <span class="o">=</span> <span class="nl">jdbc:oracle:thin:</span><span class="nd">@localhost</span><span class="o">:</span><span class="mi">1521</span><span class="o">:</span><span class="n">ora9i</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">dataSource</span><span class="o">.</span><span class="na">qzDS</span><span class="o">.</span><span class="na">user</span> <span class="o">=</span> <span class="n">stamen</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">dataSource</span><span class="o">.</span><span class="na">qzDS</span><span class="o">.</span><span class="na">password</span> <span class="o">=</span> <span class="n">abc</span>
	
 <span class="n">org</span><span class="o">.</span><span class="na">quartz</span><span class="o">.</span><span class="na">dataSource</span><span class="o">.</span><span class="na">qzDS</span><span class="o">.</span><span class="na">maxConnections</span> <span class="o">=</span> <span class="mi">10</span>
</code></pre></div>    </div>

    <p>ã€€ã€€è¦å°†ä»»åŠ¡è°ƒåº¦æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œå°±å¿…é¡»ä½¿ç”¨org.quartz.impl.jdbcjobstore.JobStoreTXä»£æ›¿åŸæ¥çš„org.quartz.simpl.RAMJobStoreå¹¶æä¾›ç›¸åº”çš„æ•°æ®åº“é…ç½®ä¿¡æ¯ã€‚é¦–å…ˆâ‘ å¤„æŒ‡å®šäº†Quartzæ•°æ®åº“è¡¨çš„å‰ç¼€ï¼Œåœ¨â‘¡å¤„å®šä¹‰äº†ä¸€ä¸ªæ•°æ®æºï¼Œåœ¨â‘¢å¤„å…·ä½“å®šä¹‰è¿™ä¸ªæ•°æ®æºçš„è¿æ¥ä¿¡æ¯ã€‚</p>

    <p>ã€€ã€€ä½ å¿…é¡»äº‹å…ˆåœ¨ç›¸åº”çš„æ•°æ®åº“ä¸­åˆ›å»ºQuartzçš„æ•°æ®è¡¨ï¼ˆå…±8å¼ ï¼‰ï¼Œåœ¨Quartzçš„å®Œæ•´å‘å¸ƒåŒ…çš„docs/dbTablesç›®å½•ä¸‹æ‹¥æœ‰å¯¹åº”ä¸åŒæ•°æ®åº“çš„SQLè„šæœ¬ã€‚</p>
  </li>
</ol>

<p><strong>ä»…ä¾›å‚è€ƒï¼š</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Default Properties file for use by StdSchedulerFactory  
# to create a Quartz Scheduler Instance, if a different  
# properties file is not explicitly specified.  
#  
# ===========================================================================  
# Configure Main Scheduler Properties è°ƒåº¦å™¨å±æ€§  
# ===========================================================================  
org.quartz.scheduler.instanceName: DefaultQuartzScheduler  
#org.quartz.scheduler.instanceid:AUTO  
org.quartz.scheduler.rmi.export: false  
org.quartz.scheduler.rmi.proxy: false  
org.quartz.scheduler.wrapJobExecutionInUserTransaction: false  
# ===========================================================================    
# Configure ThreadPool çº¿ç¨‹æ± å±æ€§    
# ===========================================================================  
#çº¿ç¨‹æ± çš„å®ç°ç±»ï¼ˆä¸€èˆ¬ä½¿ç”¨SimpleThreadPoolå³å¯æ»¡è¶³å‡ ä¹æ‰€æœ‰ç”¨æˆ·çš„éœ€æ±‚ï¼‰  
org.quartz.threadPool.class: org.quartz.simpl.SimpleThreadPool  
#æŒ‡å®šçº¿ç¨‹æ•°ï¼Œè‡³å°‘ä¸º1ï¼ˆæ— é»˜è®¤å€¼ï¼‰(ä¸€èˆ¬è®¾ç½®ä¸º1-100ç›´æ¥çš„æ•´æ•°åˆé€‚)  
org.quartz.threadPool.threadCount: 10  
#è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆæœ€å¤§ä¸ºjava.lang.Thread.MAX_PRIORITY 10ï¼Œæœ€å°ä¸ºThread.MIN_PRIORITY 1ï¼Œé»˜è®¤ä¸º5ï¼‰  
org.quartz.threadPool.threadPriority: 5  
#è®¾ç½®SimpleThreadPoolçš„ä¸€äº›å±æ€§  
#è®¾ç½®æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹  
#org.quartz.threadpool.makethreadsdaemons = false  
#org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread: true  
#org.quartz.threadpool.threadsinheritgroupofinitializingthread=false  
#çº¿ç¨‹å‰ç¼€é»˜è®¤å€¼æ˜¯ï¼š[Scheduler Name]_Worker  
#org.quartz.threadpool.threadnameprefix=swhJobThead;  
# é…ç½®å…¨å±€ç›‘å¬(TriggerListener,JobListener) åˆ™åº”ç”¨ç¨‹åºå¯ä»¥æ¥æ”¶å’Œæ‰§è¡Œ é¢„å®šçš„äº‹ä»¶é€šçŸ¥  
# ===========================================================================  
# Configuring a Global TriggerListener é…ç½®å…¨å±€çš„Triggerç›‘å¬å™¨  
# MyTriggerListenerClass ç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå’Œ å±æ€§çš„setæ–¹æ³•ï¼Œç›®å‰2.2.xåªæ”¯æŒåŸå§‹æ•°æ®ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å­—ç¬¦ä¸²ï¼‰  
# ===========================================================================  
#org.quartz.triggerListener.NAME.class = com.swh.MyTriggerListenerClass  
#org.quartz.triggerListener.NAME.propName = propValue  
#org.quartz.triggerListener.NAME.prop2Name = prop2Value  
# ===========================================================================  
# Configuring a Global JobListener é…ç½®å…¨å±€çš„Jobç›‘å¬å™¨  
# MyJobListenerClass ç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå’Œ å±æ€§çš„setæ–¹æ³•ï¼Œç›®å‰2.2.xåªæ”¯æŒåŸå§‹æ•°æ®ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å­—ç¬¦ä¸²ï¼‰  
# ===========================================================================  
#org.quartz.jobListener.NAME.class = com.swh.MyJobListenerClass  
#org.quartz.jobListener.NAME.propName = propValue  
#org.quartz.jobListener.NAME.prop2Name = prop2Value  
# ===========================================================================    
# Configure JobStore å­˜å‚¨è°ƒåº¦ä¿¡æ¯ï¼ˆå·¥ä½œï¼Œè§¦å‘å™¨å’Œæ—¥å†ç­‰ï¼‰  
# ===========================================================================  
# ä¿¡æ¯ä¿å­˜æ—¶é—´ é»˜è®¤å€¼60ç§’  
org.quartz.jobStore.misfireThreshold: 60000  
#ä¿å­˜jobå’ŒTriggerçš„çŠ¶æ€ä¿¡æ¯åˆ°å†…å­˜ä¸­çš„ç±»  
org.quartz.jobStore.class: org.quartz.simpl.RAMJobStore  
# ===========================================================================    
# Configure SchedulerPlugins æ’ä»¶å±æ€§ é…ç½®  
# ===========================================================================  
# è‡ªå®šä¹‰æ’ä»¶    
#org.quartz.plugin.NAME.class = com.swh.MyPluginClass  
#org.quartz.plugin.NAME.propName = propValue  
#org.quartz.plugin.NAME.prop2Name = prop2Value  
#é…ç½®triggeræ‰§è¡Œå†å²æ—¥å¿—ï¼ˆå¯ä»¥çœ‹åˆ°ç±»çš„æ–‡æ¡£å’Œå‚æ•°åˆ—è¡¨ï¼‰  
org.quartz.plugin.triggHistory.class = org.quartz.plugins.history.LoggingTriggerHistoryPlugin    
org.quartz.plugin.triggHistory.triggerFiredMessage = Trigger {1}.{0} fired job {6}.{5} at: {4, date, HH:mm:ss MM/dd/yyyy}    
org.quartz.plugin.triggHistory.triggerCompleteMessage = Trigger {1}.{0} completed firing job {6}.{5} at {4, date, HH:mm:ss MM/dd/yyyy} with resulting trigger instruction code: {9}    
#é…ç½®jobè°ƒåº¦æ’ä»¶  quartz_jobs(jobs and triggerså†…å®¹)çš„XMLæ–‡æ¡£    
#åŠ è½½ Job å’Œ Trigger ä¿¡æ¯çš„ç±»   ï¼ˆ1.8ä¹‹å‰ç”¨ï¼šorg.quartz.plugins.xml.JobInitializationPluginï¼‰  
org.quartz.plugin.jobInitializer.class = org.quartz.plugins.xml.XMLSchedulingDataProcessorPlugin  
#æŒ‡å®šå­˜æ”¾è°ƒåº¦å™¨(Job å’Œ Trigger)ä¿¡æ¯çš„xmlæ–‡ä»¶ï¼Œé»˜è®¤æ˜¯classpathä¸‹quartz_jobs.xml  
org.quartz.plugin.jobInitializer.fileNames = my_quartz_job2.xml    
#org.quartz.plugin.jobInitializer.overWriteExistingJobs = false    
org.quartz.plugin.jobInitializer.failOnFileNotFound = true    
#è‡ªåŠ¨æ‰«æä»»åŠ¡å•å¹¶å‘ç°æ”¹åŠ¨çš„æ—¶é—´é—´éš”,å•ä½ä¸ºç§’  
org.quartz.plugin.jobInitializer.scanInterval = 10  
#è¦†ç›–ä»»åŠ¡è°ƒåº¦å™¨ä¸­åŒåçš„jobDetail,é¿å…åªä¿®æ”¹äº†CronExpressionæ‰€é€ æˆçš„ä¸èƒ½é‡æ–°ç”Ÿæ•ˆæƒ…å†µ  
org.quartz.plugin.jobInitializer.wrapInUserTransaction = false  
# ===========================================================================    
# Sample configuration of ShutdownHookPlugin  ShutdownHookPluginæ’ä»¶çš„é…ç½®æ ·ä¾‹  
# ===========================================================================  
#org.quartz.plugin.shutdownhook.class = \org.quartz.plugins.management.ShutdownHookPlugin  
#org.quartz.plugin.shutdownhook.cleanShutdown = true  
#  
# Configure RMI Settings è¿œç¨‹æœåŠ¡è°ƒç”¨é…ç½®  
#  
#å¦‚æœä½ æƒ³quartz-schedulerå‡ºå£æœ¬èº«é€šè¿‡RMIä½œä¸ºæœåŠ¡å™¨ï¼Œç„¶åè®¾ç½®â€œå‡ºå£â€æ ‡å¿—true(é»˜è®¤å€¼ä¸ºfalse)ã€‚  
#org.quartz.scheduler.rmi.export = false  
#ä¸»æœºä¸Šrmiæ³¨å†Œè¡¨(é»˜è®¤å€¼localhost)  
#org.quartz.scheduler.rmi.registryhost = localhost  
#æ³¨å†Œç›‘å¬ç«¯å£å·ï¼ˆé»˜è®¤å€¼1099ï¼‰  
#org.quartz.scheduler.rmi.registryport = 1099  
#åˆ›å»ºrmiæ³¨å†Œï¼Œfalse/neverï¼šå¦‚æœä½ å·²ç»æœ‰ä¸€ä¸ªåœ¨è¿è¡Œæˆ–ä¸æƒ³è¿›è¡Œåˆ›å»ºæ³¨å†Œ  
# true/as_needed:ç¬¬ä¸€æ¬¡å°è¯•ä½¿ç”¨ç°æœ‰çš„æ³¨å†Œï¼Œç„¶åå†å›æ¥è¿›è¡Œåˆ›å»º  
# always:å…ˆè¿›è¡Œåˆ›å»ºä¸€ä¸ªæ³¨å†Œï¼Œç„¶åå†ä½¿ç”¨å›æ¥ä½¿ç”¨æ³¨å†Œ  
#org.quartz.scheduler.rmi.createregistry = never  
#Quartz ScheduleræœåŠ¡ç«¯ç«¯å£ï¼Œé»˜è®¤æ˜¯éšæœºåˆ†é…RMIæ³¨å†Œè¡¨  
#org.quartz.scheduler.rmi.serverport = 1098  
#true:é“¾æ¥è¿œç¨‹æœåŠ¡è°ƒåº¦(å®¢æˆ·ç«¯),è¿™ä¸ªä¹Ÿè¦æŒ‡å®šregistryhostå’Œregistryportï¼Œé»˜è®¤ä¸ºfalse  
# å¦‚æœexportå’ŒproxyåŒæ—¶æŒ‡å®šä¸ºtrueï¼Œåˆ™exportçš„è®¾ç½®å°†è¢«å¿½ç•¥  
#org.quartz.scheduler.rmi.proxy = false
</code></pre></div></div>

<blockquote>
  <p>å‚è€ƒï¼š<br /></p>
  <ul>
    <li><a href="http://student-lp.iteye.com/blog/2093395">http://student-lp.iteye.com/blog/2093395</a><br /></li>
    <li><a href="https://www.jianshu.com/p/13623119cb5b">https://www.jianshu.com/p/13623119cb5b</a><br /></li>
    <li><a href="https://www.jianshu.com/p/a540a18a5744?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">https://www.jianshu.com/p/a540a18a5744?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation</a></li>
  </ul>
</blockquote>

<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fqj5aochgoj309k09kmwz.jpg" alt="" />
<b><center>æ‰«æå…³æ³¨ï¼šçƒ­çˆ±ç”Ÿæ´»çš„å¤§å”</center>
<b><center><font size="2">ï¼ˆ<font size="2" color="#FF0000">è½¬è½½æœ¬ç«™æ–‡ç« è¯·æ³¨æ˜ä½œè€…å’Œå‡ºå¤„</font> <font size="2" color="#0000FF">çƒ­çˆ±ç”Ÿæ´»çš„å¤§å”-uniquezhangqi</font><font size="2">ï¼‰</font></font></center></b></b></p>

:ET